(this["webpackJsonpreact-base"]=this["webpackJsonpreact-base"]||[]).push([[0],{48:function(n,e,t){n.exports=t(79)},79:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(13),i=t(81),c=t(83),l=t(82),u=Object(r.createContext)(),s=function(n){var e=n.reducer,t=n.initialState,o=n.children;return a.a.createElement(u.Provider,{value:Object(r.useReducer)(e,t)},o)},d=function(){return Object(r.useContext)(u)},f=t(19),p="auth/LOGIN",g="auth/CLEAR_USER",m={logged:!1},b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return{logged:!0};case g:return Object(f.a)({},m);default:return n}},h=function(n){return{type:"product/LIST_PRODUCTS",payload:n}},v={list:null},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"product/LIST_PRODUCTS":return Object(f.a)({},n,{list:e.payload});default:return n}},w=function(n,e){var t=n.auth,r=n.product;return{auth:b(t,e),product:x(r,e)}},y=t(3),k=t(2),j=t(36),O=t.n(j);function E(){var n=Object(y.a)(["\n    ","\n    body { margin: 0 };\n    html { font-family: 'Montserrat', sans-serif; }\n    * { box-sizing: border-box; };\n"]);return E=function(){return n},n}var C=Object(k.createGlobalStyle)(E(),O.a),S=t(6);t(44),t(80);function L(){var n=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]);return L=function(){return n},n}var N=k.default.div(L()),R=t(8),T=t.n(R),W=t(11),z={primary:"#7159c1",secondary:"#9b49c1",default:"#fff",gradient:"linear-gradient(112deg, rgba(113,89,193,1) 0%, rgba(155,73,193,1) 100%);",bg:"linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%);"},I={labelColor:z.light,errorColor:z.danger},U=Object.freeze({colors:z,forms:I,viewports:{smartphone:"360px",tablet:"720px",desktop:"1280px"}});function P(){var n=Object(y.a)(["\n  transition: all 0.3s ease;\n  background: ",";\n  text-transform: ",";\n  font-weight: 300;\n  color: ",";\n  padding: 9px 13px;\n  margin: 1px;\n  border: none;\n  border-radius: 2px;\n  cursor: pointer;\n  width: ",";\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return P=function(){return n},n}var _=k.default.button(P(),(function(n){return U.colors[Object.keys(n).find((function(n){return U.colors[n]}))]||U.colors.primary}),(function(n){return n.upper?"uppercase":"none"}),U.colors.default,(function(n){return n.large?"100%":"auto"}));function A(){var n=Object(y.a)(["\n  margin: 0;\n  color: #000;\n  font-weight: 600;\n"]);return A=function(){return n},n}function B(){var n=Object(y.a)(["\n  flex: 1;\n  text-align: right;\n"]);return B=function(){return n},n}function D(){var n=Object(y.a)(["\n  height: 50px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  background: #f8f9fa;\n  position: ",";\n"]);return D=function(){return n},n}var G=k.default.div(D(),(function(n){return n.fixed?"fixed":"relative"})),J=k.default.nav(B()),F=k.default.h1(A()),M=function(n){var e=d(),t=Object(S.a)(e,2),r=t[0].auth,o=t[1],i=function(){var n=Object(W.a)(T.a.mark((function n(){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o({type:g});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(G,null,a.a.createElement(F,null,"Lusha homework task"),a.a.createElement(J,null,r.logged&&a.a.createElement(_,{gradient:!0,onClick:function(){return i()}},"Logout")))};function Q(){var n=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 50px);\n"]);return Q=function(){return n},n}k.default.div(Q()),t(43);function $(){var n=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return $=function(){return n},n}k.default.div($());function q(){var n=Object(y.a)(["\n  margin: 10px 5px;\n  border-radius: 3px;\n  border: 1px solid #e6e6e6;\n  padding: 7px;\n  box-sizing: border-box;\n  width: 100%;\n"]);return q=function(){return n},n}k.default.input(q());function H(){var n=Object(y.a)(["\n  text-align: center;\n  color: ",";\n"]);return H=function(){return n},n}k.default.span(H(),U.forms.errorColor);function K(){var n=Object(y.a)(["\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid ",";\n  border-radius: 50%;\n  width: 120px;\n  height: 120px;\n  animation: spin 2s linear infinite;\n  margin: 40vh auto;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    0% {\n      -webkit-transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return K=function(){return n},n}function V(){var n=Object(y.a)(["\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.67);\n"]);return V=function(){return n},n}var X=k.default.div(V()),Y=k.default.div(K(),U.colors.primary),Z=function(n){return n.show&&a.a.createElement(X,null,a.a.createElement(Y,null))},nn=t(42),en=t.n(nn),tn={url:"http://localhost:3130/api",token:""},rn=function(){var n=d(),e=Object(S.a)(n,2),t=e[0].product,a=e[1],o=Object(r.useState)(!1),i=Object(S.a)(o,2),c=i[0],l=i[1];return[t,c,function(){var n=Object(W.a)(T.a.mark((function n(){var e;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.next=3,en.a.get("".concat(tn.url,"/images")).then((function(n){return n.data})).catch((function(n){return n.response}));case 3:(e=n.sent)&&e.response?a(h(e.response)):a(h([])),l(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()]};function an(){var n=Object(y.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  max-width: 370px;\n  min-width: 130px;\n"]);return an=function(){return n},n}var on=k.default.ul(an());function cn(){var n=Object(y.a)(["\n  border-radius: 3px;\n  background: ",";\n  margin: 6px;\n  padding: 5px;\n  font-size: 10px;\n\n  .cardmetadata {\n    display: none;\n  }\n\n  .images {\n    width:100px;\n    height:110px;\n    display: block;\n  }\n\n  .description {    \n    overflow: hidden;\n    display: -webkit-box;\n    text-overflow: ellipsis;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n  }\n  \n  .likes {\n    display: none;\n  }\n\n  :hover {\n    .likes {\n      display: block;\n    }\n\n    .cardmetadata {\n      width:100px;\n      height:100px;\n      display: flex;\n      display: --webkit-box;\n      text-align: center;\n      align-items: center;\n      margin: auto;\n      justify-content: center;      \n    }\n\n    .images {\n      display: none;\n    }\n  }\n"]);return cn=function(){return n},n}var ln=k.default.li(cn(),U.colors.bg),un=function(){var n,e=rn(),t=Object(S.a)(e,3),o=t[0],i=t[1],c=t[2];return Object(r.useEffect)((function(){o.list&&0!==o.list.length||c()}),[o,c]),a.a.createElement("div",null,a.a.createElement(Z,{show:i}),a.a.createElement(_,{primary:!0,large:!0,onClick:c,type:"submit"},"Refresh"),a.a.createElement(on,null,null===o||void 0===o||null===(n=o.list)||void 0===n?void 0:n.map((function(n){return a.a.createElement(ln,{key:n.url},a.a.createElement("div",{className:"cardmetadata"},a.a.createElement("span",{className:"description"},n.description)),a.a.createElement("span",{className:"likes"},"likes: ",n.likes),a.a.createElement("img",{className:"images",src:n.url}))}))))},sn=function(n){var e={auth:m,product:v};return a.a.createElement(s,{initialState:e,reducer:w},a.a.createElement(C,null),a.a.createElement(i.a,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null),a.a.createElement(N,null,a.a.createElement(c.a,null,a.a.createElement(l.a,{path:"/",component:un}),a.a.createElement(l.a,{path:"/home",component:un}))))))},dn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fn(n){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(n){console.error("Error during service worker registration:",n)}))}Object(o.render)(a.a.createElement(sn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");dn?(!function(n){fetch(n).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):fn(n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):fn(n)}))}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.2fa83570.chunk.js.map