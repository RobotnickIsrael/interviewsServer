{"version":3,"sources":["state/index.js","state/auth/actions.js","state/auth/reducers.js","state/product/actions.js","state/product/reducers.js","state/reducers.js","routes/base-styles.js","components/content.js","components/theme.js","components/button.js","components/header.js","views/login/containers/container.js","components/form/formGroup.js","components/form/input.js","components/form/error.js","components/spinner.js","utils/services.js","state/product/hooks/useProducts.js","state/product/queries.js","views/home/components/list.js","views/home/components/card.js","views/home/index.js","routes/index.js","registerServiceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","LOGIN","LOGOUT","INITIAL_STATE","logged","state","action","type","listProducts","payload","list","auth","product","authReducer","productReducer","BaseStyles","createGlobalStyle","reset","Content","styled","div","colors","primary","secondary","default","gradient","bg","forms","labelColor","light","errorColor","danger","theme","Object","freeze","viewports","smartphone","tablet","desktop","Button","button","props","keys","find","p","upper","large","Nav","fixed","Right","nav","Title","h1","Header","dispatch","handleLogout","a","onClick","input","span","BackDrop","Spinner","Loading","show","api","url","token","useProducts","useState","isLoading","setIsLoading","axios","get","then","res","data","catch","err","response","List","ul","Card","li","Home","setListProducts","useEffect","length","map","key","className","description","likes","src","Root","AUTH_INITIAL_STATE","PRODUCT_INITIAL_STATE","reducers","Switch","Route","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","error","render","document","getElementById","URL","process","origin","addEventListener","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2fa83570.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","export const LOGIN = 'auth/LOGIN';\r\nexport const LOGOUT = 'auth/CLEAR_USER';\r\n\r\nexport const login = () => ({\r\n  type: LOGIN,\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: LOGOUT,\r\n});\r\n","import { LOGIN, LOGOUT } from './actions';\r\n\r\nexport const INITIAL_STATE = {\r\n  logged: false,\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        logged: true,\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...INITIAL_STATE,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const LIST_PRODUCTS = 'product/LIST_PRODUCTS';\r\n\r\nexport const listProducts = payload => ({\r\n  type: LIST_PRODUCTS,\r\n  payload,\r\n});\r\n","import { LIST_PRODUCTS } from './actions';\r\n\r\nexport const INITIAL_STATE = {\r\n  list: null,\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case LIST_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        list: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import authReducer from './auth/reducers';\r\nimport productReducer from './product/reducers';\r\n\r\nexport default ({ auth, product }, action) => ({\r\n  auth: authReducer(auth, action),\r\n  product: productReducer(product, action),\r\n});\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport reset from 'styled-reset';\r\n\r\nconst BaseStyles = createGlobalStyle`\r\n    ${reset}\r\n    body { margin: 0 };\r\n    html { font-family: 'Montserrat', sans-serif; }\r\n    * { box-sizing: border-box; };\r\n`;\r\n\r\nexport default BaseStyles;\r\n","import styled from 'styled-components';\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nexport default Content;\r\n","const colors = {\r\n  primary: '#7159c1',\r\n  secondary: '#9b49c1',\r\n  default: '#fff',\r\n  gradient:\r\n    'linear-gradient(112deg, rgba(113,89,193,1) 0%, rgba(155,73,193,1) 100%);',\r\n  bg: 'linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%);',\r\n};\r\n\r\nconst yellowColors = {\r\n  primary: '#F6D55C',\r\n  secondary: '#F6D55C',\r\n  default: '#fff',\r\n  gradient:\r\n    'linear-gradient(112deg, rgba(113,89,193,1) 0%, rgba(155,73,193,1) 100%);',\r\n  bg: 'linear-gradient(to top, #F6D55C 0%, #EFCC00 100%);',\r\n};\r\n\r\nconst viewports = {\r\n  smartphone: '360px',\r\n  tablet: '720px',\r\n  desktop: '1280px',\r\n};\r\n\r\nconst forms = {\r\n  labelColor: colors.light,\r\n  errorColor: colors.danger,\r\n};\r\n\r\nconst theme = Object.freeze({\r\n  colors,\r\n  forms,\r\n  viewports,\r\n});\r\n\r\nexport default theme;\r\n","import styled from 'styled-components';\r\nimport theme from './theme';\r\n\r\nconst Button = styled.button`\r\n  transition: all 0.3s ease;\r\n  background: ${props =>\r\n    theme.colors[Object.keys(props).find(p => theme.colors[p])] ||\r\n    theme.colors.primary};\r\n  text-transform: ${props => (props.upper ? 'uppercase' : 'none')};\r\n  font-weight: 300;\r\n  color: ${theme.colors.default};\r\n  padding: 9px 13px;\r\n  margin: 1px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  width: ${props => (props.large ? '100%' : 'auto')};\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { useStateValue } from '../state';\r\nimport { logout } from '../state/auth/actions';\r\n\r\nimport Button from './button';\r\n\r\nconst Nav = styled.div`\r\n  height: 50px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  background: #f8f9fa;\r\n  position: ${props => (props.fixed ? 'fixed' : 'relative')};\r\n`;\r\n\r\nconst Right = styled.nav`\r\n  flex: 1;\r\n  text-align: right;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin: 0;\r\n  color: #000;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Header = props => {\r\n  const [{ auth }, dispatch] = useStateValue();\r\n\r\n  const handleLogout = async () => {\r\n    await dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <Nav>\r\n      <Title>Lusha homework task</Title>\r\n      <Right>\r\n        {auth.logged && (\r\n          <Button gradient onClick={() => handleLogout()}>\r\n            Logout\r\n          </Button>\r\n        )}\r\n      </Right>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: calc(100vh - 50px);\r\n`;\r\n\r\nexport default Container;\r\n","import styled from 'styled-components';\r\n\r\nconst formGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default formGroup;\r\n","import styled from 'styled-components';\r\n\r\nconst Input = styled.input`\r\n  margin: 10px 5px;\r\n  border-radius: 3px;\r\n  border: 1px solid #e6e6e6;\r\n  padding: 7px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n`;\r\n\r\nexport default Input;\r\n","import styled from 'styled-components';\r\nimport theme from '../theme';\r\n\r\nconst ErrorText = styled.span`\r\n  text-align: center;\r\n  color: ${theme.forms.errorColor};\r\n`;\r\n\r\nexport default ErrorText;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport theme from './theme';\r\n\r\nconst BackDrop = styled.div`\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.67);\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  border: 4px solid #f3f3f3;\r\n  border-top: 4px solid ${theme.colors.primary};\r\n  border-radius: 50%;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: spin 2s linear infinite;\r\n  margin: 40vh auto;\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    0% {\r\n      -webkit-transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loading = props => {\r\n  return (\r\n    props.show && (\r\n      <BackDrop>\r\n        <Spinner />\r\n      </BackDrop>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","const api = {\r\n  //url: 'https://5eb454842b81f700163084b3.mockapi.io',\r\n  url: 'http://localhost:3130/api',\r\n  token: '',\r\n};\r\n\r\nexport default api;\r\n","import { useState } from 'react';\r\nimport { useStateValue } from '../../index';\r\nimport { loadProducts } from '../queries';\r\nimport { listProducts } from '../actions';\r\n\r\nconst useProducts = () => {\r\n  const [{ product }, dispatch] = useStateValue();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const request = async () => {\r\n    setIsLoading(true);\r\n\r\n    const response = await loadProducts();\r\n\r\n    if (response && response.response) {\r\n      dispatch(listProducts(response.response));\r\n    } else {\r\n      const err = [];\r\n      dispatch(listProducts(err));\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return [product, isLoading, request];\r\n};\r\n\r\nexport default useProducts;\r\n","import axios from 'axios';\r\nimport api from '../../utils/services';\r\n\r\nexport const loadProducts = () => {\r\n  return axios\r\n    //.get(`${api.url}/products`)\r\n    .get(`${api.url}/images`)\r\n    .then(res => res.data)\r\n    //.then(res => res)\r\n    //.catch(err => err.response.data);\r\n    .catch(err => err.response);\r\n};\r\n","import styled from 'styled-components';\r\n\r\nconst List = styled.ul`\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  max-width: 370px;\r\n  min-width: 130px;\r\n`;\r\n\r\nexport default List;\r\n","import styled from 'styled-components';\r\nimport theme from '../../../components/theme';\r\n\r\nconst Card = styled.li`\r\n  border-radius: 3px;\r\n  background: ${theme.colors.bg};\r\n  margin: 6px;\r\n  padding: 5px;\r\n  font-size: 10px;\r\n\r\n  .cardmetadata {\r\n    display: none;\r\n  }\r\n\r\n  .images {\r\n    width:100px;\r\n    height:110px;\r\n    display: block;\r\n  }\r\n\r\n  .description {    \r\n    overflow: hidden;\r\n    display: -webkit-box;\r\n    text-overflow: ellipsis;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 4;\r\n  }\r\n  \r\n  .likes {\r\n    display: none;\r\n  }\r\n\r\n  :hover {\r\n    .likes {\r\n      display: block;\r\n    }\r\n\r\n    .cardmetadata {\r\n      width:100px;\r\n      height:100px;\r\n      display: flex;\r\n      display: --webkit-box;\r\n      text-align: center;\r\n      align-items: center;\r\n      margin: auto;\r\n      justify-content: center;      \r\n    }\r\n\r\n    .images {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n\r\nexport default Card;\r\n","import React, { useEffect } from 'react';\r\nimport useProducts from '../../state/product/hooks/useProducts';\r\n\r\nimport Spinner from '../../components/spinner';\r\nimport List from './components/list';\r\nimport Card from './components/card';\r\nimport Button from '../../components/button';\r\n\r\nconst Home = () => {\r\n  const [product, isLoading, setListProducts] = useProducts();\r\n\r\n  useEffect(() => {\r\n    if (!product.list || product.list.length === 0) {\r\n      setListProducts();\r\n    }\r\n  }, [product, setListProducts]);\r\n\r\n  return (\r\n    <div>\r\n      <Spinner show={isLoading} />\r\n      <Button primary large onClick={setListProducts} type=\"submit\">\r\n        Refresh\r\n      </Button>\r\n      <List>\r\n        {product?.list?.map(p => (\r\n          <Card key={p.url}>\r\n            {/*<h1>{p.title}</h1>\r\n            <span>${p.price}</span>\r\n            //description = p.description;\r\n            //likes = p.likes;*/}\r\n            <div className='cardmetadata'>\r\n              <span className = 'description'>                \r\n                {p.description}\r\n              </span>              \r\n            </div>\r\n            <span className = 'likes'>\r\n                likes: {p.likes}\r\n              </span>\r\n            <img className = 'images' src={p.url}></img>\r\n          </Card>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { StateProvider } from '../state';\r\nimport { INITIAL_STATE as AUTH_INITIAL_STATE } from '../state/auth/reducers';\r\nimport { INITIAL_STATE as PRODUCT_INITIAL_STATE } from '../state/product/reducers';\r\nimport reducers from '../state/reducers';\r\nimport BaseStyles from './base-styles';\r\nimport PrivateRoute from './private-route';\r\nimport Content from '../components/content';\r\nimport Header from '../components/header';\r\nimport Login from '../views/login';\r\nimport Home from '../views/home';\r\n\r\nconst Root = props => {\r\n  const initialState = {\r\n    auth: AUTH_INITIAL_STATE,\r\n    product: PRODUCT_INITIAL_STATE,\r\n  };\r\n  return (\r\n    <StateProvider initialState={initialState} reducer={reducers}>\r\n      <BaseStyles />\r\n      <Router>\r\n        <>\r\n          <Header />\r\n          <Content>\r\n            <Switch>\r\n              {/*<Route exact path=\"/\" component={Login} />\r\n              <PrivateRoute path=\"/home\" component={Home} />*/}\r\n              <Route path=\"/\" component={Home} />\r\n              <Route path=\"/home\" component={Home} />\r\n            </Switch>\r\n          </Content>\r\n        </>\r\n      </Router>\r\n    </StateProvider>\r\n  );\r\n};\r\n\r\nexport default Root;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Root from './routes';\r\n\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nrender(<Root />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}